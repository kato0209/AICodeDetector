with ops.name_scope(name, "one_hot", [dist, fn]) as name: if isinstance(dist, ops.SparseTensor): if not dist.values.dtype.is_integer: raise TypeError("dist.values must be integer type. Got %r" % dist.values) <extra_id_0> = math_ops.to_float(dist.values) # Note that the condition of a <extra_id_1> variable as a <extra_id_2> # on the product of two <extra_id_3> vectors. The handling of # `dist.values` is not quite correct, but is the best we can do.