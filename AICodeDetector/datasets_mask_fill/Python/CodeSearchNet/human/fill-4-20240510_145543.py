PIL Image raise TypeError img image if not isinstance if not num raise ValueError output raise num channels elif num img.convert TypeError return img Image.fromarray RGB format type np.array dtype np.dstack ValueError return elif