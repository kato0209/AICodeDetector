num class of text class class size text class size label class size char vocab vocab vocab Create a Variable Classes embedding layer self.h idened embedding layer tf.constant Classes self.hidened class Expand self.embedding size class TextCNN layers tf.Variable classifier layers tf.Variable classifier embedding embedding layer num string layer self.word embedding layer tf.Variable filters self.embedded chars pooled self.input classes import tf.constant CNN for text sequence length prob dropout tf.placeholder conv VALID predictions Accuracy total self.scores input Convolution Layer filter outputs Convolution Layer sizes convolution object add CNN TextCNN expanded self.dropout reg lambda tensorflow numpy class vocab self.W drop Keeping track output strides padding flat scores Create a convolution initializer self.predictions tf.argmax losses logits tf.reduce correct Layer filter Add dropout Placeholders Keeping Create softmax layer maxpool layer dropout self.input Final Apply nonlinearity Apply Maxpooling Combine text classification pooled features num Calculate Calculate mean cross-entropy features num Accuracy with tf.name Placeholders for input outputs pooled size pooled filter size pooled classification text filter size dropout with tf.name regularization loss predictions with tf.name max-pooling and softmax convolutional def init optional cpu tf.random uniform lookup tf.expand dims conv-maxpool softmax regularization tf.device maxpool enumerate tf.truncated normal stddev loss with tf.name pooled features track relu ksize outputs.append len tf.concat tf.reshape