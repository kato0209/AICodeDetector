True Threaded function rtv globals Threaded print cossim thresh vocab csr mat sparse timeit.timeit number topn function py import timeit topn python function numpy numpy flush awesome threads row samples duplicates col_data matrix row_data topn import awesome _pandas import numpy function copy to_pandas return list col_weights scipy.sparse.coo function theoretical py numpy list import function scipy numpy import numpy import numpy import numpy function
import numpy density size cols top numpy function import numpy function def sparse result topn function original function numpy numpy function directly function import timeit Original sparse coo matrix return row.data arg results topn import Original scipy.sparse import coo function def import awesome function import numpy original def scipy row print import timeit import timeit import numpy import print function directly calling scipy dot int f'nnz shape def import coo elif nnz results per row thread import numpy zip row.indices import timeit timeit import scipy.sparse import A.dot row index top matches return sorted file compare compare our boosting boosting method method with calling future noqa f'density f'nr sparse.tocsr directly file compare boosting method calling timeit scipy.sparse score row.getnnz np.argpartition key lower bound scipy and numpy list index matches sorted lambda matrix from sparse elif element greater element is greater return None elif row which element