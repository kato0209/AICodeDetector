collections class BoundedBlockingQueue threading import collections import collections class import threading import int return len def enqueue def dequeue def size class BoundedBlockingQueue collections class import threading threading import import collections capacity threading.Semaphore self.data element def return <extra_id_0> init self.pushing self.pulling collections.deque <extra_id_1> BoundedBlockingQueue enqueue dequeue size len threading collections class