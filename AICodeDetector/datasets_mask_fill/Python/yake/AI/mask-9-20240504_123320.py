Final array state threading class ArrayBlocker import threading class def update Final array class ArrayBlocker import threading index threading class self.array def thread <extra_id_0> array state array Array updated blocker def <extra_id_1> element function thread ArrayBlocker self.lock Final updated at index <extra_id_2> threading.Lock len blocker.update main threading.Thread target args threads.append thread.start thread.join threads import update bounds テストコ range state threading class updated thread in threads