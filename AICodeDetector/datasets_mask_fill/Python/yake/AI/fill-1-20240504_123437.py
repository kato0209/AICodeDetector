docs relevant query rocchio query order by weight weight weight weight weight weight weight weight weight original query vector default from query vector modified original Weight query query vector param Weight query vector based algorithm Finds if total < minimum score required for query vector original query vector Weight query Apply the Rocchio documents document vectors Rocchio formula List Convert lists alpha beta Implement the Rocchio gamma non-relevant return non-relevant documents vectors document import numpy param original import def numpy lists relevant document vectors np.mean axis docs.size param alpha param beta param relevant query refinement non-relevant document vectors param gamma Convert Calculate Apply relevant document modified query vector query vector based modified query Implement refinement List of non-relevant usage original vector based algorithm for query lists to numpy relevant return List of relevant modified arrays vectorized operations formula usage based operations relevant vector for relevant numpy arrays relevant and non-relevant arrays for vectorized vectorized operations vectorized operations relevant