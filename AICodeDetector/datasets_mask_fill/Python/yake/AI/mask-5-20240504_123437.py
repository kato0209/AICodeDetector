break def chat socket import threading import socket import import threading def threading def client conn addr break def def chat import socket socket import import threading threading def thread server True message def client print <extra_id_0> port INET STREAM chat Connected client clients import def conn.recv decode <extra_id_1> encode <extra_id_2> clients.remove socket.socket socket.AF socket.SOCK server.bind server.listen server.accept clients.append threading.Thread target args thread.start main break socket threading client in clients